---
import Section from './ui/section.astro'
import Button from './ui/button.astro'
import Badge from './ui/badge.astro'

const plans = [
    {
        name: "Essencial",
        description:
            "Presença digital profissional para quem está começando a investir no online.",
        price: "6.000",
        monthly: "250",
        features: [
            "Site institucional ou Landing Page",
            "Sistema dinâmico de conteúdo",
            "Formulários + WhatsApp",
            "Analytics próprio básico",
            "SEO configurado",
            "Tecnologia moderna e de ponta",
            "2h de suporte/mês",
        ],
        highlight: false,
        icon: "home",
    },
    {
        name: "Profissional",
        description:
            "Para quem quer aparecer no Google e converter mais visitantes em orçamentos.",
        price: "10.000",
        monthly: "400",
        features: [
            "Tudo do Essencial, mais:",
            "Analytics próprio + externo + relatório mensal",
            "Conexão exclusiva com SEO local",
            "Página exclusiva de links",
            "Mais páginas extras disponíveis",
            "4h de suporte/mês",
        ],
        highlight: true,
        badge: "MAIS ESCOLHIDO",
        icon: "chart",
    },
    {
        name: "Premium",
        description:
            "Experiência completa para empresas que querem o melhor em presença digital.",
        price: "15.000",
        monthly: "600",
        features: [
            "Tudo do Profissional, mais:",
            "Design expandido 100% personalizado",
            "Conteúdo ilimitado",
            "Calculadora de orçamento",
            "Reunião mensal de acompanhamento",
            "8h de suporte prioritário/mês",
        ],
        highlight: false,
        icon: "building",
    },
];
---

<Section id="pricing">
    <div class="text-center max-w-3xl mx-auto mb-20 animate-fade-in">
        <span
            class="text-xs font-bold text-primary uppercase tracking-widest mb-4 block"
            >Planos</span
        >
        <h2 class="font-serif text-4xl md:text-5xl font-bold mb-6">
            Escolha o pacote ideal
        </h2>
        <p class="text-text-muted text-lg">
            Todas as opções incluem hospedagem de alta performance, SSL e
            suporte técnico.
        </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
        {
            plans.map((plan) => (
                <div
                    class={`relative p-8 rounded-2xl border transition-all duration-300 hover:-translate-y-1 flex flex-col ${plan.highlight ? "bg-bg-elevated border-primary/50 shadow-2xl shadow-primary/10" : "bg-bg-card border-border hover:border-border-subtle"}`}
                >
                    {plan.highlight && (
                        <div class="absolute -top-3 right-6">
                            <Badge variant="primary">{plan.badge}</Badge>
                        </div>
                    )}

                    <div class="w-12 h-12 rounded-lg bg-bg-elevated flex items-center justify-center mb-6 text-primary border border-border group-hover:border-primary/30 transition-colors">
                        {plan.icon === "home" && (
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                                <polyline points="9 22 9 12 15 12 15 22" />
                            </svg>
                        )}
                        {plan.icon === "chart" && (
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <line x1="18" y1="20" x2="18" y2="10" />
                                <line x1="12" y1="20" x2="12" y2="4" />
                                <line x1="6" y1="20" x2="6" y2="14" />
                            </svg>
                        )}
                        {plan.icon === "building" && (
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <rect
                                    x="4"
                                    y="2"
                                    width="16"
                                    height="20"
                                    rx="2"
                                    ry="2"
                                />
                                <line x1="9" y1="22" x2="9" y2="22.01" />
                                <line x1="15" y1="22" x2="15" y2="22.01" />
                                <line x1="9" y1="18" x2="9" y2="18.01" />
                                <line x1="15" y1="18" x2="15" y2="18.01" />
                                <line x1="9" y1="14" x2="9" y2="14.01" />
                                <line x1="15" y1="14" x2="15" y2="14.01" />
                                <line x1="9" y1="10" x2="9" y2="10.01" />
                                <line x1="15" y1="10" x2="15" y2="10.01" />
                                <line x1="9" y1="6" x2="9" y2="6.01" />
                                <line x1="15" y1="6" x2="15" y2="6.01" />
                            </svg>
                        )}
                    </div>

                    <div class="mb-4">
                        <h3 class="font-serif text-2xl font-bold mb-2">
                            {plan.name}
                        </h3>
                        <p class="text-text-muted text-sm leading-relaxed min-h-[40px]">
                            {plan.description}
                        </p>
                    </div>

                    <ul class="space-y-4 mb-8 flex-grow">
                        {plan.features.map((feature) => (
                            <li class="flex items-start gap-3 text-sm text-text-subtle">
                                <svg
                                    class={`w-5 h-5 flex-shrink-0 mt-0.5 ${plan.highlight ? "text-primary" : "text-text-subtle"}`}
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M5 13l4 4L19 7"
                                    />
                                </svg>
                                {feature}
                            </li>
                        ))}
                    </ul>

                    <div class="pt-6 border-t border-border-subtle mt-auto mb-8">
                        <div class="text-[10px] text-text-subtle uppercase tracking-widest mb-1">
                            A partir de
                        </div>
                        <div class="font-serif text-3xl font-bold text-text-main flex items-baseline gap-1">
                            R$ {plan.price}
                        </div>
                        <div class="text-sm text-text-muted mt-1">
                            + R$ {plan.monthly}/mês
                        </div>
                    </div>

                    <Button
                        href={`https://wa.me/5512983173077?text=Olá,+gostaria+de+agendar+uma+reunião+para+conversarmos+sobre+o+plano+${plan.name}`}
                        variant={plan.highlight ? "primary" : "secondary"}
                        className="w-full"
                    >
                        Agendar Reunião
                    </Button>
                </div>
            ))
        }
    </div>
</Section>
